/******************************************************************************/
/*            Generated by IBExpert 2021.7.9.1 20/07/2021 02:31:48            */
/******************************************************************************/

SET SQL DIALECT 3;

SET NAMES WIN1252;

SET CLIENTLIB 'C:\Windows\System32\FBCLIENT.DLL';

CREATE DATABASE '127.0.0.1:D:\BACKUP\Testes\WKConsultoria\BD\wkc_pedidovenda.fdb'
USER 'SYSDBA' PASSWORD 'masterkey'
PAGE_SIZE 16384
DEFAULT CHARACTER SET WIN1250 COLLATION WIN1250;



/******************************************************************************/
/*                                   Tables                                   */
/******************************************************************************/



CREATE TABLE CLIENTES (
    CODIGO  INTEGER NOT NULL,
    NOME    VARCHAR(80) NOT NULL,
    CIDADE  VARCHAR(60) NOT NULL,
    UF      CHAR(2) NOT NULL
);

CREATE TABLE PEDIDOS (
    NUMEROPEDIDO  INTEGER NOT NULL,
    DT_EMISSAO    DATE NOT NULL,
    CLIENTE       INTEGER NOT NULL,
    VLR_TOTAL     FLOAT NOT NULL
);

CREATE TABLE PEDIDOSPRODUTOS (
    AUTOINCREMENTO  INTEGER GENERATED BY DEFAULT AS IDENTITY,
    NUMEROPEDIDO    INTEGER NOT NULL,
    PRODUTO         INTEGER NOT NULL,
    QUANTIDADE      INTEGER NOT NULL,
    VLR_UNITARIO    FLOAT NOT NULL,
    VLR_TOTAL       FLOAT NOT NULL
);

CREATE TABLE PRODUTOS (
    CODIGO     INTEGER NOT NULL,
    DESCRICAO  VARCHAR(80) NOT NULL,
    VLR_VENDA  FLOAT NOT NULL
);

INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (1, 'Nome Cliente 1', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (2, 'Nome Cliente 2', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (3, 'Nome Cliente 3', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (4, 'Nome Cliente 4', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (5, 'Nome Cliente 5', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (6, 'Nome Cliente 6', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (7, 'Nome Cliente 7', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (8, 'Nome Cliente 8', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (9, 'Nome Cliente 9', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (10, 'Nome Cliente 10', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (11, 'Nome Cliente 11', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (12, 'Nome Cliente 12', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (13, 'Nome Cliente 13', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (14, 'Nome Cliente 14', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (15, 'Nome Cliente 15', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (16, 'Nome Cliente 16', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (17, 'Nome Cliente 17', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (18, 'Nome Cliente 18', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (19, 'Nome Cliente 19', 'Curitiba', 'PR');
INSERT INTO CLIENTES (CODIGO, NOME, CIDADE, UF) VALUES (20, 'Nome Cliente 20', 'Curitiba', 'PR');


COMMIT WORK;

INSERT INTO PEDIDOS (NUMEROPEDIDO, DT_EMISSAO, CLIENTE, VLR_TOTAL) VALUES (1, '2021-07-19', 5, 0);
INSERT INTO PEDIDOS (NUMEROPEDIDO, DT_EMISSAO, CLIENTE, VLR_TOTAL) VALUES (2, '2021-07-20', 2, 0);
INSERT INTO PEDIDOS (NUMEROPEDIDO, DT_EMISSAO, CLIENTE, VLR_TOTAL) VALUES (3, '2021-07-20', 3, 0);
INSERT INTO PEDIDOS (NUMEROPEDIDO, DT_EMISSAO, CLIENTE, VLR_TOTAL) VALUES (4, '2021-07-20', 4, 0);


COMMIT WORK;

INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (1, 'Descricao Produto 1', 5);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (2, 'Descricao Produto 2', 10);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (3, 'Descricao Produto 3', 15);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (4, 'Descricao Produto 4', 20);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (5, 'Descricao Produto 5', 25);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (6, 'Descricao Produto 6', 30);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (7, 'Descricao Produto 7', 35);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (8, 'Descricao Produto 8', 40);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (9, 'Descricao Produto 9', 45);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (10, 'Descricao Produto 10', 50);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (11, 'Descricao Produto 11', 55);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (12, 'Descricao Produto 12', 60);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (13, 'Descricao Produto 13', 65);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (14, 'Descricao Produto 14', 70);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (15, 'Descricao Produto 15', 75);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (16, 'Descricao Produto 16', 80);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (17, 'Descricao Produto 17', 85);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (18, 'Descricao Produto 18', 90);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (19, 'Descricao Produto 19', 95);
INSERT INTO PRODUTOS (CODIGO, DESCRICAO, VLR_VENDA) VALUES (20, 'Descricao Produto 20', 100);


COMMIT WORK;



/******************************************************************************/
/*                          Autoincrement generators                          */
/******************************************************************************/

ALTER TABLE PEDIDOSPRODUTOS ALTER AUTOINCREMENTO RESTART WITH 0;




/******************************************************************************/
/*                                Primary keys                                */
/******************************************************************************/

ALTER TABLE CLIENTES ADD PRIMARY KEY (CODIGO);
ALTER TABLE PEDIDOS ADD PRIMARY KEY (NUMEROPEDIDO);
ALTER TABLE PEDIDOSPRODUTOS ADD PRIMARY KEY (AUTOINCREMENTO);
ALTER TABLE PRODUTOS ADD PRIMARY KEY (CODIGO);


/******************************************************************************/
/*                                Foreign keys                                */
/******************************************************************************/

ALTER TABLE PEDIDOS ADD CONSTRAINT FK_CLIENTE FOREIGN KEY (CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE PEDIDOSPRODUTOS ADD CONSTRAINT FK_PEDIDOS FOREIGN KEY (NUMEROPEDIDO) REFERENCES PEDIDOS (NUMEROPEDIDO);
ALTER TABLE PEDIDOSPRODUTOS ADD CONSTRAINT FK_PRODUTO FOREIGN KEY (PRODUTO) REFERENCES PRODUTOS (CODIGO);
